{% extends 'base.html' %} {% block content %}

  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
  <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
  <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>  
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<style>
    input[type=submit] {     
        text-align: center;
        background-color: #4CAF50;
        color: white;
        padding: 10px 16px;
        margin: 8px 0;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
    table.dataTable thead>tr>th.sorting_asc, table.dataTable thead>tr>th.sorting_desc, table.dataTable thead>tr>th.sorting, table.dataTable thead>tr>td.sorting_asc, table.dataTable thead>tr>td.sorting_desc, table.dataTable thead>tr>td.sorting {
    padding-right: 0px !important;
}
</style>   

<script>
   $(document).ready(function() {         
    var table = $('#example').DataTable();      
        //$('#example tbody').on('click', 'tr', function () {
        //    var data = table.row( this ).data();                      
         //       if($(this).hasClass('selected')) {
         //          $(this).removeClass('selected');
         //          if(confirm('Are you sure want to go for this selected row.'))
        //            {
        //                document.getElementById('dataForm').value=data;
         //               document.querySelector("#SubmitMultipleRowDatadecision").click();                        
         //           } 
         //       }
         //       else {
         //           table.$('tr.selected').removeClass('selected');
        //            $(this).addClass('selected');
         //       }           
         //   $('#SubmitMultipleRowDatadecision').click( function () {
         //       table.row('.selected').remove().draw( false );
         //   });                                       
        });
    });
</script>

<br><h4 align="center">JOB CARDS (M5) DATA ENTRY</h4>
<body >
<form action="{% url 'm5hwview' %}" method="POST"> {% csrf_token %}

<hr style="height:1px; border:none; color:red; background-color:red; width:95%; text-align:center; margin: 0 auto;"><br>

<div class="container" id="showhide">
 <table id="example" class="table table-striped table-bordered" style="margin-left: -35%;">
        <thead style="background-color:ghostwhite; font-size:12px; ">
            <tr>
                <th>HW<br>CD</th>
                <th>PART<br>NO</th>
                <th>DES</th>
                <th>SEL</th>
                <th>OPN<br>NO</th>
                <th>OPN<br>DES</th>
                <th>SHOP</th>
                <th>LC</th>
                <th>PA</th>
                <th>AT</th>
                <th>LOT</th>
                <th>T-<br>PCPLS</th>
                <th>TOT<br>HRS<br>PLS</th>
                <th>BATCh<br>NO</th>
                <th>ORG<br>BATCH</th>
                <th>EPC</th>
                <th>SEQ</th>
                <th>QTY<br>ORD</th>
                <th>LFR</th>
                <th>LTO</th>
                <th>M13<br>NO</th>
                <th>M13<br>DATE</th>
                <th>BRN<br>NO</th>
                <th>ORG<br>BRN<br>NO</th>
                <th>M5CD</th>
                <th>NCP<br>JBS</th>
                <th>OKMRQ</th>
                <th>RM<br>PART<br>NO</th>
                <th>RM<br>DESC</th>
                <th>RM<br>QTY</th>
                <th>RM<br>UT</th>
                <th>SN</th>
                <th>PL<br>REG<br>NO</th>
                <th>REM</th>
                <th>OP<br>STATUS</th>
                <th>PR<br>SHOP<br>SEC</th>
                <th>N_<br>SHOPSEC</th>
            </tr>
        </thead>
        <tbody style="font-size:11px; font-weight: 610;">       
            {% for i in temp %}
            <tr>                
                {% if i.hw_cd == None %}<td></td>{% else %}<td>{{i.hw_cd}}</td>{% endif %}                
                {% if i.part_no == None %}<td></td>{% else %}<td>{{i.part_no}}</td>{% endif %}  
                {% if i.des == None %}<td></td>{% else %}<td>{{i.des}}</td>{% endif %}   
                {% if i.sel_sw == None %}<td></td>{% else %}<td>{{i.sel_sw}}</td>{% endif %} 
                {% if i.opn == None %}<td></td>{% else %}<td>{{i.opn}}</td>{% endif %}
                {% if i.opn_desc == None %}<td></td>{% else %}<td>{{i.opn_desc}}</td>{% endif %}      
                {% if i.shop_sec == None %}<td></td>{% else %}<td>{{i.shop_sec}}</td>{% endif %}               
                {% if i.lc_no == None %}<td></td>{% else %}<td>{{i.lc_no}}</td>{% endif %}  
                {% if i.pa == None %}<td></td>{% else %}<td>{{i.pa}}</td>{% endif %}  
                {% if i.at == None %}<td></td>{% else %}<td>{{i.at}}</td>{% endif %}  
                <td></td>
                {% if i.time_pcpls == None %}<td></td>{% else %}<td>{{i.time_pcpls}}</td>{% endif %}
                {% if i.tot_hrspls == None %}<td></td>{% else %}<td>{{i.tot_hrspls}}</td>{% endif %}
                {% if i.batch_no == None %}<td></td>{% else %}<td>{{i.batch_no}}</td>{% endif %}
                {% if i.org_batch == None %}<td></td>{% else %}<td>{{i.org_batch}}</td>{% endif %}
                {% if i.epc == None %}<td></td>{% else %}<td>{{i.epc}}</td>{% endif %}
                {% if i.seq == None %}<td></td>{% else %}<td>{{i.seq}}</td>{% endif %}
                {% if batchQty == None %}<td></td>{% else %}<td>{{batchQty}}</td>{% endif %}
                {% if i.l_fr == None %}<td></td>{% else %}<td>{{i.l_fr}}</td>{% endif %}
                {% if i.l_to == None %}<td></td>{% else %}<td>{{i.l_to}}</td>{% endif %}
                {% if i.m13_no == None %}<td></td>{% else %}<td>{{i.m13_no}}</td>{% endif %}
                {% if i.m13_date == None %}<td></td>{% else %}<td>{{i.m13_date}}</td>{% endif %}
                {% if i.brn_no == None %}<td></td>{% else %}<td>{{i.brn_no}}</td>{% endif %}
                {% if i.org_brnno == None %}<td></td>{% else %}<td>{{i.org_brnno}}</td>{% endif %}
                {% if i.m5_cd == None %}<td></td>{% else %}<td>{{i.m5_cd}}</td>{% endif %}  
                {% if i.ncp_jbs == None %}<td></td>{% else %}<td>{{i.ncp_jbs}}</td>{% endif %}
                <td id="1"></td>                
                {% if i.sn == None %}<td id="2"></td>{% else %}<td id="2">{{i.sn}}</td>{% endif %}
                {% if i.rm_partno == None %}<td id="3"></td>{% else %}<td id="3">{{i.rm_partno}}</td>{% endif %}
                {% if i.rm_qty == None %}<td></td>{% else %}<td>{{i.rm_qty}}</td>{% endif %}
                {% if i.rm_ut == None %}<td></td>{% else %}<td>{{i.rm_ut}}</td>{% endif %}
                {% if i.rm_desc == None %}<td id="5"></td>{% else %}<td id="5">{{i.rm_desc}}</td>{% endif %}
                {% if i.plregno == None %}<td></td>{% else %}<td>{{i.plregno}}</td>{% endif %}
                <td></td>
                <td>{{i.id}}</td>
                {% if i.pr_shopsec == None %}<td></td>{% else %}<td>{{i.pr_shopsec}}</td>{% endif %}
                {% if i.n_shopsec == None %}<td></td>{% else %}<td>{{i.n_shopsec}}</td>{% endif %}
                <input type="hidden" name="id" id="id" value="{{i.id}}">
            </tr>    
             {% endfor %}           
        </tbody>
        <tfoot style="background-color:ghostwhite; font-size:12px;">
            <tr>
                <th>HW<br>CD</th>
                <th>PART<br>NO</th>
                <th>DES</th>
                <th>SEL</th>
                <th>OPN<br>NO</th>
                <th>OPN<br>DES</th>
                <th>SHOP</th>
                <th>LC</th>
                <th>PA</th>
                <th>AT</th>
                <th>LOT</th>
                <th>T-<br>PCPLS</th>
                <th>TOT<br>HRS<br>PLS</th>
                <th>BATCh<br>NO</th>
                <th>ORG<br>BATCH</th>
                <th>EPC</th>
                <th>SEQ</th>
                <th>QTY<br>ORD</th>
                <th>LFR</th>
                <th>LTO</th>
                <th>M13<br>NO</th>
                <th>M13<br>DATE</th>
                <th>BRN<br>NO</th>
                <th>ORG<br>BRN<br>NO</th>
                <th>M5CD</th>
                <th>NCP<br>JBS</th>
                <th>OKMRQ</th>
                <th>RM<br>PART<br>NO</th>
                <th>RM<br>DESC</th>
                <th>RM<br>QTY</th>
                <th>RM<br>UT</th>
                <th>SN</th>
                <th>PL<br>REG<br>NO</th>
                <th>REM</th>
                <th>OP<br>STATUS</th>
                <th>PR<br>SHOP<br>SEC</th>
                <th>N_<br>SHOPSEC</th>
            </tr>
        </tfoot>
    </table>
</div>

<div id="hideshow">
<div class="container">
 <table id="example" class="table table-striped table-bordered" style="margin-left: -2%;">
        <thead style="background-color:ghostwhite; font-size:12px; ">
            <tr>
                <th>HWCD</th>
                <th>PART NO</th>
                <th>DES</th>
                <th>SEL</th>
                <th>OPN NO</th>
                {% comment %} <th>OPN<br>DES</th> {% endcomment %}
                <th>SHOP</th>
                <th>LC</th>
                <th>PA</th>
                <th>AT</th>
                {% comment %} <th>LOT</th>
                <th>T-<br>PCPLS</th>
                <th>TOT<br>HRS<br>PLS</th> {% endcomment %}
                <th>BATCh NO</th>
                {% comment %} <th>ORG<br>BATCH</th>
                <th>EPC</th>
                <th>SEQ</th>
                <th>QTY<br>ORD</th> {% endcomment %}
                <th>LFR</th>
                <th>LTO</th>
                {% comment %} <th>M13<br>NO</th>
                <th>M13<br>DATE</th>
                <th>BRN<br>NO</th>
                <th>ORG<br>BRN<br>NO</th> {% endcomment %}
                <th>M5CD</th>
                {% comment %} <th>NCP<br>JBS</th>
                <th>OKMRQ</th> {% endcomment %}
                <th>RM PART NO</th>
                <th>RM DESC</th>
                <th>RM QTY</th>
                <th>RM UT</th>
                {% comment %} <th>SN</th>
                <th>PL<br>REG<br>NO</th>
                <th>REM</th> {% endcomment %}
                <th>OP STATUS</th>
                {% comment %} <th>PR<br>SHOP<br>SEC</th>
                <th>N_<br>SHOPSEC</th> {% endcomment %}
            </tr>
        </thead>
        <tbody style="font-size:11px; font-weight: 610;">       
            {% for i in temp %}
            <tr>                
                {% if i.hw_cd == None %}<td></td>{% else %}<td>{{i.hw_cd}}</td>{% endif %}                
                {% if i.part_no == None %}<td></td>{% else %}<td>{{i.part_no}}</td>{% endif %}  
                {% if i.des == None %}<td></td>{% else %}<td>{{i.des}}</td>{% endif %}   
                {% if i.sel_sw == None %}<td></td>{% else %}<td>{{i.sel_sw}}</td>{% endif %} 
                {% if i.opn == None %}<td></td>{% else %}<td>{{i.opn}}</td>{% endif %}
                {% comment %} {% if i.opn_desc == None %}<td></td>{% else %}<td>{{i.opn_desc}}</td>{% endif %}       {% endcomment %}
                {% if i.shop_sec == None %}<td></td>{% else %}<td>{{i.shop_sec}}</td>{% endif %}               
                {% if i.lc_no == None %}<td></td>{% else %}<td>{{i.lc_no}}</td>{% endif %}  
                {% if i.pa == None %}<td></td>{% else %}<td>{{i.pa}}</td>{% endif %}  
                {% if i.at == None %}<td></td>{% else %}<td>{{i.at}}</td>{% endif %}  
                {% comment %} <td></td>
                {% if i.time_pcpls == None %}<td></td>{% else %}<td>{{i.time_pcpls}}</td>{% endif %}
                {% if i.tot_hrspls == None %}<td></td>{% else %}<td>{{i.tot_hrspls}}</td>{% endif %} {% endcomment %}
                {% if i.batch_no == None %}<td></td>{% else %}<td>{{i.batch_no}}</td>{% endif %}
                {% comment %} {% if i.org_batch == None %}<td></td>{% else %}<td>{{i.org_batch}}</td>{% endif %}
                {% if i.epc == None %}<td></td>{% else %}<td>{{i.epc}}</td>{% endif %}
                {% if i.seq == None %}<td></td>{% else %}<td>{{i.seq}}</td>{% endif %}
                {% if batchQty == None %}<td></td>{% else %}<td>{{batchQty}}</td>{% endif %} {% endcomment %}
                {% if i.l_fr == None %}<td></td>{% else %}<td>{{i.l_fr}}</td>{% endif %}
                {% if i.l_to == None %}<td></td>{% else %}<td>{{i.l_to}}</td>{% endif %}
                {% comment %} {% if i.m13_no == None %}<td></td>{% else %}<td>{{i.m13_no}}</td>{% endif %}
                {% if i.m13_date == None %}<td></td>{% else %}<td>{{i.m13_date}}</td>{% endif %}
                {% if i.brn_no == None %}<td></td>{% else %}<td>{{i.brn_no}}</td>{% endif %}
                {% if i.org_brnno == None %}<td></td>{% else %}<td>{{i.org_brnno}}</td>{% endif %} {% endcomment %}
                {% if i.m5_cd == None %}<td></td>{% else %}<td>{{i.m5_cd}}</td>{% endif %}  
                {% comment %} {% if i.ncp_jbs == None %}<td></td>{% else %}<td>{{i.ncp_jbs}}</td>{% endif %}
                <td id="1"></td>                 {% endcomment %}
                {% if i.sn == None %}<td id="2"></td>{% else %}<td id="2">{{i.sn}}</td>{% endif %}
                {% if i.rm_partno == None %}<td id="3"></td>{% else %}<td id="3">{{i.rm_partno}}</td>{% endif %}
                {% if i.rm_qty == None %}<td></td>{% else %}<td>{{i.rm_qty}}</td>{% endif %}
                {% if i.rm_ut == None %}<td></td>{% else %}<td>{{i.rm_ut}}</td>{% endif %}
                {% comment %} {% if i.rm_desc == None %}<td id="5"></td>{% else %}<td id="5">{{i.rm_desc}}</td>{% endif %}
                {% if i.plregno == None %}<td></td>{% else %}<td>{{i.plregno}}</td>{% endif %}
                <td></td> {% endcomment %}
                <td></td>
                {% comment %} {% if i.pr_shopsec == None %}<td></td>{% else %}<td>{{i.pr_shopsec}}</td>{% endif %}
                {% if i.n_shopsec == None %}<td></td>{% else %}<td>{{i.n_shopsec}}</td>{% endif %} {% endcomment %}
                <input type="hidden" name="id" id="id" value="{{i.id}}">
            </tr>    
             {% endfor %}           
        </tbody>
    </table>
</div>
</div>
<center>
    <input type="submit" name="SubmitMultipleRowDatadecision" id="SubmitMultipleRowDatadecision" value="Submit" hidden/>&nbsp;
    <input type="submit" name="backSubmitMultipleRowData" id="backSubmitMultipleRowData" value="back"/>   
    <input type="hidden" name="dataForm" id="dataForm" />
    <input type="hidden" name="batchQty" id="batchQty" value="{{batchQty}}"/>
    <input type="button" name="printButton" id="printButton" value="Print" onclick="fun1();" class="btn btn-info"/>
</center>    
         
         <input type="hidden" name="userNameTemp" id="userNameTemp" value="{{userNameTemp}}"/>
         <input type="hidden" name="countemp" id="countemp" value="{{countemp}}"/>
</form>    
</body>
<script>
function fun1()
{
        var user = $("#userNameTemp").val();
        var count = $("#countemp").val();
        swal("Hand Written HWM5 Card Generation creatd Successfully!.  USER : "+user+",  No. of Docs : "+count)
        $('#hideshow').show();
        $('#showhide').hide();
        $('#backSubmitMultipleRowData').hide();
        $('#printButton').hide();
        
        window.print();  

}
window.onload=function()
{
        $('#showhide').show();
        $('#hideshow').hide();
}
</script>

{% endblock content %}